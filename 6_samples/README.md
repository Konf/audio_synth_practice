[Назад в оглавление](../README.md)

# Проигрывание сэмплов

![Alt text](../img/image-8.png)

Демонстрация проигрывания сэмплов находится в папке `audio_synth_practice/ 6_samples`.

Чтобы запустить тестбенч, выполните в консоли Modelsim:
```
cd audio_synth_practice/6_samples
do make.do
```

Для корректного однократного проигрывания сэмпла используется внутренний автомат состояний, состояние которого хранится в `sample_actv_ff`.
При получении строба `en_i` генератор безусловно начинает исполнять сэмпл сначала (даже если при получении `en_i` уже велось исполнение сэмпла). При окончании исполнения `sample_actv_ff` сбрасывается в «0» и канал сэмпла уходит в состояние бездействия.
В демонстрации с помощью одного семпла проигрывается узнаваемое с пары нот вступление песни «Smoke on the water» группы Deep Purple. Мы пользуемся тем, что на самом деле это вступление состоит из одного аккорда, просто на разных частотах.
