[Назад в оглавление](../../README.md)

Данный пример генерирует звуковой сигнал синусоидальной формы с частотой 440 Гц.


# Генератор сигнала синусоидальной формы
Генератор сигнала синусоидальной формы находится в папке `audio_synth_practice/1_wave_generators/5_sine`.


## Запуск примера
Чтобы запустить пример, выполните в консоли Modelsim/Questa:
```
cd audio_synth_practice/1_wave_generators/5_sine
do make.do
```
или выберите в Vivado `tb_audio_sine` как Top Level.

## Описание примера

Представленный генератор сигнала синусоидальной формы построен на табличном синусе и использует одну хитрость. Синус обладает симметрией, поэтому мы можем хранить только половину таблицы синуса и использовать нарастающую, а затем убывающую индексацию такой половинной таблицы.

При этом для хранения таблицы синуса мы создаём память `sine_table` и инициализируем её из файла `sine_table_256.mem`.

```verilog
  // Sine table, triange uses as an address
  logic [7:0] sine_table [255:0];

  initial begin
    $readmemh("sine_table_256.mem", sine_table);
  end
```

Графическое представление табличного синуса представлено на изображении.

![Alt text](../../img/image.png)

К счастью, у нас уже есть модуль, который способен сгенерировать возрастающую и затем убывающую индексацию – генератор треугольного сигнала. Его логику мы и используем, подключая выход генератора треугольного сигнала как индекс таблицы синуса.

```verilog
  logic [7:0] triangle;
  assign triangle = saw_select_ff ? saw_inv_ff
                                  : saw_ff;

  assign sample_data_o = sine_table[triangle];
```
